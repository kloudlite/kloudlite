# Kloudlite CLI


### All commands

### Authentication

Use the following command to login to kloudlite and logout. when you use `kctl login` a browser will be open
and just put your credentials and you will be returned to authenticated session on your terminal.

In case of logout your terminal auth session will be terminated.

```sh
kctl login
kctl logout
```

### Selecting your account to work with

By simply using the command `kctl account list` you can see all the accounts accessible to you and by
using the command `kctl account use <account_id>` your current working account will be set according to
your provider account id.

> In case you don't know your account_id then you just use the command `kctl account list` 
and choose your account.


```sh
kctl account:list
kctl account:use <account_id>
```


### Selecting your project to work with

By simply using the command `kctl project list` you can see all the projects accessible to you and by
using the command `kctl project use <account_id>` your current working project will be set according to
your provider project id.

> In case of you don't know your project_id then you just use the command `kctl project list` 
 and choose your project.


```sh
kctl project:list
kctl project:use <project_id>
```

### Working with environments
We support multiple environments to work with. these commands will help you to use and list and create new
environments.

> `kctl env create-from` It's on our roadmap and the documentation will be updated soon. 

> `kctl env list` can be used to already created environments and by selecting the one you will be set up with 
that environment.

> `kctl env use <env_name>` If you know the name of the env then directly providing it can be deleted.  

> `kctl env destroy <env_name>` you can also destroy the env in this way. by just providing the env name.

```sh
kctl env:create-from <env_from> <new_env_name>
kctl env:list
kctl env:use <unique_env_name>
kctl env:destroy <unique_env_name>
```

### Working with app

When working with apps, you can use the following commands to create, list, and intercept the app.


```
kctl app:create
kctl app:list
```

### Intercepting an app
You can intercept a running app in this way.

```
kctl intercept <appp_id>
```


### Setting your workspace
To setup your workspace first run `kctl init`. It will generate a config file and then you can modify 
according to your requirement to that app.

To load environment variables of the app just use the command `kctl load`.

```
kctl init <filename_optional>
kctl load

```

### KL Config File structure
This is the structure of app config file which will be generated by executing the command `kctl load` and 
you can also modify this file according to your requirement.
```yaml

version: v1
name: <name>
mres:
- id: <id>
  env:
    - key: <key>
      refKey: <refKey>
configs:
- id: <id>
  env:
    - key: <key>
      refKey: <refkey>
secrets:
- id: <id>
  env:
    - key: <key>
      refKey: <refkey>
env:
- key: <key>
  value: <valu>
ports:
- 8000:8000

```

> This CLI is under development so, more information will will be updated in this doc. also if some new commands will be added to the cli will be updated to this doc.
