---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: primaryclusters.cluster-setup.kloudlite.io
spec:
  group: cluster-setup.kloudlite.io
  names:
    kind: PrimaryCluster
    listKind: PrimaryClusterList
    plural: primaryclusters
    singular: primarycluster
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.isReady
      name: Ready
      type: boolean
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: PrimaryCluster is the Schema for the primaryclusters API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: PrimaryClusterSpec defines the desired state of PrimaryCluster
            properties:
              certManager:
                properties:
                  clusterIssuer:
                    properties:
                      acmeEmail:
                        type: string
                      cloudflare:
                        properties:
                          dnsNames:
                            items:
                              type: string
                            type: array
                          email:
                            type: string
                          secretKeyRef:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              namespace:
                                type: string
                            required:
                            - key
                            - name
                            type: object
                        required:
                        - dnsNames
                        - email
                        - secretKeyRef
                        type: object
                      ingressClass:
                        type: string
                      name:
                        type: string
                    required:
                    - acmeEmail
                    - ingressClass
                    - name
                    type: object
                  nodeSelector:
                    additionalProperties:
                      type: string
                    type: object
                  podLabels:
                    additionalProperties:
                      type: string
                    type: object
                  tolerations:
                    items:
                      description: The pod this Toleration is attached to tolerates
                        any taint that matches the triple <key,value,effect> using
                        the matching operator <operator>.
                      properties:
                        effect:
                          description: Effect indicates the taint effect to match.
                            Empty means match all taint effects. When specified, allowed
                            values are NoSchedule, PreferNoSchedule and NoExecute.
                          type: string
                        key:
                          description: Key is the taint key that the toleration applies
                            to. Empty means match all taint keys. If the key is empty,
                            operator must be Exists; this combination means to match
                            all values and all keys.
                          type: string
                        operator:
                          description: Operator represents a key's relationship to
                            the value. Valid operators are Exists and Equal. Defaults
                            to Equal. Exists is equivalent to wildcard for value,
                            so that a pod can tolerate all taints of a particular
                            category.
                          type: string
                        tolerationSeconds:
                          description: TolerationSeconds represents the period of
                            time the toleration (which must be of effect NoExecute,
                            otherwise this field is ignored) tolerates the taint.
                            By default, it is not set, which means tolerate the taint
                            forever (do not evict). Zero and negative values will
                            be treated as 0 (evict immediately) by the system.
                          format: int64
                          type: integer
                        value:
                          description: Value is the taint value the toleration matches
                            to. If the operator is Exists, the value should be empty,
                            otherwise just a regular string.
                          type: string
                      type: object
                    type: array
                required:
                - clusterIssuer
                type: object
              cloudflareCreds:
                properties:
                  dnsNames:
                    items:
                      type: string
                    type: array
                  email:
                    type: string
                  secretKeyRef:
                    properties:
                      key:
                        type: string
                      name:
                        type: string
                      namespace:
                        type: string
                    required:
                    - key
                    - name
                    type: object
                required:
                - dnsNames
                - email
                - secretKeyRef
                type: object
              clusterId:
                type: string
              domain:
                type: string
              harborAdminCreds:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                required:
                - name
                - namespace
                type: object
              imagePullSecrets:
                items:
                  properties:
                    name:
                      type: string
                    namespace:
                      type: string
                  required:
                  - name
                  - namespace
                  type: object
                type: array
              ingress:
                properties:
                  className:
                    type: string
                  nodeSelector:
                    additionalProperties:
                      type: string
                    type: object
                  podLabels:
                    additionalProperties:
                      type: string
                    type: object
                  resources:
                    properties:
                      cpu:
                        properties:
                          max:
                            pattern: '[\d]+m$'
                            type: string
                          min:
                            pattern: '[\d]+m$'
                            type: string
                        required:
                        - max
                        - min
                        type: object
                      memory:
                        pattern: '[\d]+Mi$'
                        type: string
                      storage:
                        properties:
                          size:
                            pattern: '[\d]+(M|G)i$'
                            type: string
                          storageClass:
                            type: string
                        required:
                        - size
                        type: object
                    required:
                    - cpu
                    - memory
                    type: object
                  tolerations:
                    items:
                      description: The pod this Toleration is attached to tolerates
                        any taint that matches the triple <key,value,effect> using
                        the matching operator <operator>.
                      properties:
                        effect:
                          description: Effect indicates the taint effect to match.
                            Empty means match all taint effects. When specified, allowed
                            values are NoSchedule, PreferNoSchedule and NoExecute.
                          type: string
                        key:
                          description: Key is the taint key that the toleration applies
                            to. Empty means match all taint keys. If the key is empty,
                            operator must be Exists; this combination means to match
                            all values and all keys.
                          type: string
                        operator:
                          description: Operator represents a key's relationship to
                            the value. Valid operators are Exists and Equal. Defaults
                            to Equal. Exists is equivalent to wildcard for value,
                            so that a pod can tolerate all taints of a particular
                            category.
                          type: string
                        tolerationSeconds:
                          description: TolerationSeconds represents the period of
                            time the toleration (which must be of effect NoExecute,
                            otherwise this field is ignored) tolerates the taint.
                            By default, it is not set, which means tolerate the taint
                            forever (do not evict). Zero and negative values will
                            be treated as 0 (evict immediately) by the system.
                          format: int64
                          type: integer
                        value:
                          description: Value is the taint value the toleration matches
                            to. If the operator is Exists, the value should be empty,
                            otherwise just a regular string.
                          type: string
                      type: object
                    type: array
                required:
                - className
                - resources
                type: object
              loki:
                properties:
                  enabled:
                    default: true
                    type: boolean
                  namespace:
                    default: kl-init-monitoring
                    type: string
                  releaseName:
                    default: loki
                    type: string
                  resources:
                    properties:
                      cpu:
                        properties:
                          max:
                            pattern: '[\d]+m$'
                            type: string
                          min:
                            pattern: '[\d]+m$'
                            type: string
                        required:
                        - max
                        - min
                        type: object
                      memory:
                        pattern: '[\d]+Mi$'
                        type: string
                      storage:
                        properties:
                          size:
                            pattern: '[\d]+(M|G)i$'
                            type: string
                          storageClass:
                            type: string
                        required:
                        - size
                        type: object
                    required:
                    - cpu
                    - memory
                    type: object
                  s3:
                    properties:
                      awsAccessKeyId:
                        type: string
                      awsSecretAccessKey:
                        type: string
                      bucketName:
                        type: string
                      endpoint:
                        type: string
                    required:
                    - awsAccessKeyId
                    - awsSecretAccessKey
                    - bucketName
                    - endpoint
                    type: object
                  url:
                    type: string
                required:
                - resources
                - s3
                type: object
              networking:
                properties:
                  dnsNames:
                    items:
                      type: string
                    type: array
                  edgeCNAME:
                    type: string
                type: object
              nodeSelector:
                additionalProperties:
                  type: string
                type: object
              oAuthCreds:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                required:
                - name
                - namespace
                type: object
              operators:
                properties:
                  manifests:
                    items:
                      properties:
                        artifacts:
                          description: list of artifact names that we want to refer
                          items:
                            type: string
                          type: array
                        ghTokenSecret:
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                            namespace:
                              type: string
                          required:
                          - key
                          - name
                          type: object
                        repo:
                          description: Github Repo in form of <owner>/<rep-name>
                          type: string
                        tag:
                          description: Github Release Tag
                          type: string
                      required:
                      - ghTokenSecret
                      - repo
                      - tag
                      type: object
                    type: array
                type: object
              prometheus:
                properties:
                  enabled:
                    default: true
                    type: boolean
                  namespace:
                    default: kl-init-monitoring
                    type: string
                  releaseName:
                    default: prometheus
                    type: string
                  resources:
                    properties:
                      cpu:
                        properties:
                          max:
                            pattern: '[\d]+m$'
                            type: string
                          min:
                            pattern: '[\d]+m$'
                            type: string
                        required:
                        - max
                        - min
                        type: object
                      memory:
                        pattern: '[\d]+Mi$'
                        type: string
                      storage:
                        properties:
                          size:
                            pattern: '[\d]+(M|G)i$'
                            type: string
                          storageClass:
                            type: string
                        required:
                        - size
                        type: object
                    required:
                    - cpu
                    - memory
                    type: object
                required:
                - resources
                type: object
              redpanda:
                properties:
                  resources:
                    properties:
                      cpu:
                        properties:
                          max:
                            pattern: '[\d]+m$'
                            type: string
                          min:
                            pattern: '[\d]+m$'
                            type: string
                        required:
                        - max
                        - min
                        type: object
                      memory:
                        pattern: '[\d]+Mi$'
                        type: string
                      storage:
                        properties:
                          size:
                            pattern: '[\d]+(M|G)i$'
                            type: string
                          storageClass:
                            type: string
                        required:
                        - size
                        type: object
                    required:
                    - cpu
                    - memory
                    type: object
                  version:
                    default: v22.1.6
                    type: string
                required:
                - resources
                type: object
              secondaryClusterId:
                type: string
              sharedConstants:
                properties:
                  ImageJsEvalApi:
                    type: string
                  KafkaTopicBillingUpdates:
                    type: string
                  KafkaTopicGitWebhooks:
                    type: string
                  KafkaTopicPipelineRunUpdates:
                    type: string
                  KafkaTopicsStatusUpdates:
                    type: string
                  accountsWebDomain:
                    type: string
                  appAccountsWeb:
                    type: string
                  appAuditLoggingWorker:
                    type: string
                  appAuthApi:
                    description: API
                    type: string
                  appAuthWeb:
                    description: Web
                    type: string
                  appCiApi:
                    type: string
                  appCommsApi:
                    type: string
                  appConsoleApi:
                    type: string
                  appConsoleWeb:
                    type: string
                  appDnsApi:
                    type: string
                  appFinanceApi:
                    type: string
                  appGqlGatewayApi:
                    type: string
                  appIAMApi:
                    type: string
                  appInfraApi:
                    type: string
                  appJsEval:
                    type: string
                  appKlAgent:
                    description: WORKERS
                    type: string
                  appSocketWeb:
                    type: string
                  appWebhooksApi:
                    type: string
                  authDbName:
                    type: string
                  authRedisName:
                    type: string
                  authWebDomain:
                    description: Routers
                    type: string
                  ciDbName:
                    type: string
                  ciRedisName:
                    type: string
                  commsDbName:
                    type: string
                  consoleDbName:
                    type: string
                  consoleRedisName:
                    type: string
                  consoleWebDomain:
                    type: string
                  cookieDomain:
                    type: string
                  dnsDbName:
                    type: string
                  dnsRedisName:
                    type: string
                  eventsDbName:
                    type: string
                  financeDbName:
                    type: string
                  financeRedisName:
                    type: string
                  harborAdminCredsSecretName:
                    type: string
                  iamDbName:
                    type: string
                  iamRedisName:
                    type: string
                  imageAccountsWeb:
                    type: string
                  imageAuditLoggingWorker:
                    type: string
                  imageAuthApi:
                    description: Images
                    type: string
                  imageAuthWeb:
                    type: string
                  imageCiApi:
                    type: string
                  imageCommsApi:
                    type: string
                  imageConsoleApi:
                    type: string
                  imageConsoleWeb:
                    type: string
                  imageDnsApi:
                    type: string
                  imageFinanceApi:
                    type: string
                  imageGqlGatewayApi:
                    type: string
                  imageIAMApi:
                    type: string
                  imageInfraApi:
                    type: string
                  imageKlAgent:
                    type: string
                  imageSocketWeb:
                    type: string
                  imageWebhooksApi:
                    type: string
                  infraDbName:
                    type: string
                  kafkaTopicEvents:
                    type: string
                  kafkaTopicHarborWebhooks:
                    type: string
                  lokiBasicAuthSecretName:
                    type: string
                  mongoSvcName:
                    description: Mongo
                    type: string
                  oauthSecretName:
                    description: Secrets
                    type: string
                  prometheusBasicAuthSecretName:
                    type: string
                  redisSvcName:
                    description: Redis
                    type: string
                  redpandaAdminSecretName:
                    type: string
                  socketRedisName:
                    type: string
                  socketWebDomain:
                    type: string
                  statefulPriorityClass:
                    type: string
                  stripeSecretName:
                    type: string
                  subDomain:
                    type: string
                  webhookApiDomain:
                    type: string
                  webhookAuthzSecretName:
                    type: string
                type: object
              shouldInstallSecondary:
                type: boolean
              storageClass:
                type: string
              stripeCreds:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                required:
                - name
                - namespace
                type: object
              tolerations:
                additionalProperties:
                  type: string
                type: object
              webhookAuthzCreds:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                required:
                - name
                - namespace
                type: object
            required:
            - cloudflareCreds
            - clusterId
            - domain
            - imagePullSecrets
            - ingress
            - loki
            - networking
            - oAuthCreds
            - operators
            - prometheus
            - redpanda
            - stripeCreds
            type: object
          status:
            properties:
              checks:
                additionalProperties:
                  properties:
                    generation:
                      format: int64
                      type: integer
                    message:
                      type: string
                    status:
                      type: boolean
                  required:
                  - status
                  type: object
                type: object
              childConditions:
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource. --- This struct is intended for direct
                    use as an array at the field path .status.conditions.  For example,
                    \n type FooStatus struct{ // Represents the observations of a
                    foo's current state. // Known .status.conditions.type are: \"Available\",
                    \"Progressing\", and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                    // +listType=map // +listMapKey=type Conditions []metav1.Condition
                    `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\"
                    protobuf:\"bytes,1,rep,name=conditions\"` \n // other fields }"
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        --- Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              conditions:
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource. --- This struct is intended for direct
                    use as an array at the field path .status.conditions.  For example,
                    \n type FooStatus struct{ // Represents the observations of a
                    foo's current state. // Known .status.conditions.type are: \"Available\",
                    \"Progressing\", and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                    // +listType=map // +listMapKey=type Conditions []metav1.Condition
                    `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\"
                    protobuf:\"bytes,1,rep,name=conditions\"` \n // other fields }"
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        --- Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              displayVars:
                type: object
                x-kubernetes-preserve-unknown-fields: true
              generatedVars:
                type: object
                x-kubernetes-preserve-unknown-fields: true
              isReady:
                type: boolean
              lastReconcileTime:
                format: date-time
                type: string
              message:
                type: object
                x-kubernetes-preserve-unknown-fields: true
              messages:
                items:
                  properties:
                    container:
                      type: string
                    exitCode:
                      format: int32
                      type: integer
                    message:
                      type: string
                    pod:
                      type: string
                    reason:
                      type: string
                    state:
                      type: string
                  type: object
                type: array
              opsConditions:
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource. --- This struct is intended for direct
                    use as an array at the field path .status.conditions.  For example,
                    \n type FooStatus struct{ // Represents the observations of a
                    foo's current state. // Known .status.conditions.type are: \"Available\",
                    \"Progressing\", and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                    // +listType=map // +listMapKey=type Conditions []metav1.Condition
                    `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\"
                    protobuf:\"bytes,1,rep,name=conditions\"` \n // other fields }"
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        --- Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              resources:
                items:
                  properties:
                    apiVersion:
                      description: 'APIVersion defines the versioned schema of this
                        representation of an object. Servers should convert recognized
                        schemas to the latest internal value, and may reject unrecognized
                        values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                      type: string
                    kind:
                      description: 'Kind is a string value representing the REST resource
                        this object represents. Servers may infer this from the endpoint
                        the client submits requests to. Cannot be updated. In CamelCase.
                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                      type: string
                    name:
                      type: string
                    namespace:
                      type: string
                  required:
                  - name
                  - namespace
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
