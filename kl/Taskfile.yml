version: 3

tasks:
  kl-dev:
    cmds:
      - nodemon -q -e 'go' --signal SIGTERM --exec "echo '# building' && task kl-build && echo '# build success' || exit"
  kl-build:
    cmds:
      - go build -ldflags="-X github.com/kloudlite/kl/cmd.Version=v1.0.0-nightly" -o ./bin/kl github.com/kloudlite/kl/clis/kl

  kli-dev:
    cmds:
      - nodemon -q -e 'go' --signal SIGTERM --exec "echo '# building' && task kli-build && echo '# build success' || exit"
  kli-build:
    cmds:
      - go build -ldflags="-X github.com/kloudlite/kl/cmd.Version=v1.0.0-nightly" -o ./bin/kli github.com/kloudlite/kl/clis/kli
