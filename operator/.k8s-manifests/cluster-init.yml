---
apiVersion: v1
kind: Namespace
metadata:
  name: kl-core

---
apiVersion: v1
kind: Namespace
metadata:
  name: kl-init-operators

---
### kloudlite docker-creds secret

# apiVersion: v1
# kind: Secret
# metadata:
#  name: kl-docker-creds
#  namespace: kl-init-operators
# stringData:

---
# apiVersion: v1
# kind: Secret
# metadata:
#  name: kl-docker-creds
#  namespace: kl-init-operators
# stringData:

--- 

apiVersion: v1
kind: ServiceAccount
metadata:
 name: kloudlite-svc-account
 namespace: kl-core
imagePullSecrets:
 - name: kl-docker-creds

---

apiVersion: v1
kind: ServiceAccount
metadata:
 name: kloudlite-svc-account
 namespace: kl-init-operators
imagePullSecrets:
 - name: kl-docker-creds
---

# cluster service accounts
apiVersion: v1
kind: ServiceAccount
metadata:
 name: kloudlite-cluster-svc-account
 namespace: kl-core
imagePullSecrets:
 - name: kl-docker-creds

---

apiVersion: v1
kind: ServiceAccount
metadata:
 name: kloudlite-cluster-svc-account
 namespace: kl-init-operators
imagePullSecrets:
 - name: kl-docker-creds


---
# cluster role bindings

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
 name: kloudlite-cluster-svc-account-rb
 namespace: kl-init-operators
subjects:
 - kind: ServiceAccount
   name: kloudlite-cluster-svc-account
   namespace: kl-init-operators
 - kind: ServiceAccount
   name: kloudlite-cluster-svc-account
   namespace: kl-core
roleRef:
 apiGroup: rbac.authorization.k8s.io
 kind: "ClusterRole"
 name: cluster-admin
