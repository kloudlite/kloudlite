apiVersion: crds.kloudlite.io/v1
kind: App
metadata:
  name: sample
  namespace: kl-core
  annotations:
    kloudlite.io/account-ref: "sample-account"
    kloudlite.io/project-ref: "hotspot.id"
    kloudlite.io/resource-ref: "resour.id"
    kloudlite.io/billing-plan: "resour.id"
spec:
  services:
    - port: 80
      targetPort: 80
      name: http
      type: tcp
  containers:
    - name: main
      image: nginx
      imagePullPolicy: Always
      command:
        - bash
        - -c
        - |+
          echo "asdfsdafasfasf" > /dev/termination-log
        # - |+
        #   echo "failing because i have been told to do so" > /dev/termination-log
        #   exit 1
      resourceCpu:
        min: 50m
        max: 100m
      resourceMemory:
        min: 50Mi
        max: 100Mi
