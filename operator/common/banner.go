package common

import (
	"fmt"
	"time"
)

var BuiltAt string

const KloudliteBanner = `
                    ,                       
                  #####                 
               ########                 
             ########                   
          ########        #####             
        ########       *#########            ██╗  ██╗██╗      ██████╗ ██╗   ██╗██████╗ ██╗     ██╗████████╗███████╗
     ########        ###############         ██║ ██╔╝██║     ██╔═══██╗██║   ██║██╔══██╗██║     ██║╚══██╔══╝██╔════╝
   ########       *###################       █████╔╝ ██║     ██║   ██║██║   ██║██║  ██║██║     ██║   ██║   █████╗  
 #######/       ########################     ██╔═██╗ ██║     ██║   ██║██║   ██║██║  ██║██║     ██║   ██║   ██╔══╝  
   #######(        ###################       ██║  ██╗███████╗╚██████╔╝╚██████╔╝██████╔╝███████╗██║   ██║   ███████╗
     (#######.       ##############*         ╚═╝  ╚═╝╚══════╝ ╚═════╝  ╚═════╝ ╚═════╝ ╚══════╝╚═╝   ╚═╝   ╚══════╝
        ########        #(#######                              
          (#######.       ####*                                     
             ########                                                
               /######(.                     Built At: %s
                  #####
                    , 

`

func PrintKloudliteBanner() {
	fmt.Printf(KloudliteBanner, BuiltAt)
}

const KloudliteReadyBanner = `
                    ,                       
                  #####                 
               ########                 
             ########                   
          ########        #####             
        ########       *#########            ██╗  ██╗██╗      ██████╗ ██╗   ██╗██████╗ ██╗     ██╗████████╗███████╗
     ########        ###############         ██║ ██╔╝██║     ██╔═══██╗██║   ██║██╔══██╗██║     ██║╚══██╔══╝██╔════╝
   ########       *###################       █████╔╝ ██║     ██║   ██║██║   ██║██║  ██║██║     ██║   ██║   █████╗  
 #######/       ########################     ██╔═██╗ ██║     ██║   ██║██║   ██║██║  ██║██║     ██║   ██║   ██╔══╝  
   #######(        ###################       ██║  ██╗███████╗╚██████╔╝╚██████╔╝██████╔╝███████╗██║   ██║   ███████╗
     (#######.       ##############*         ╚═╝  ╚═╝╚══════╝ ╚═════╝  ╚═════╝ ╚═════╝ ╚══════╝╚═╝   ╚═╝   ╚══════╝
        ########        #(#######                              
          (#######.       ####*               __   ___       __     
             ########                        |__) |__   /\  |  \ \ / 
               /######(.                     |  \ |___ /~~\ |__/  |       Built At: %s
                  #####
                    , 

`

func PrintReadyBanner() {
	fmt.Printf(KloudliteReadyBanner, BuiltAt)
}

func PrintReadyBanner2(readyIn time.Duration) {
	fmt.Printf(`
         **                                                               
       ****                                                               
      ****     *                                                          
    ****     *****       ▗▖ ▗▖▗▖    ▗▄▖ ▗▖ ▗▖▗▄▄▄ ▗▖   ▗▄▄▄▖▗▄▄▄▖▗▄▄▄▖    
  ****     *********     ▐▌▗▞▘▐▌   ▐▌ ▐▌▐▌ ▐▌▐▌  █▐▌     █    █  ▐▌       
 ****     ************   ▐▛▚▖ ▐▌   ▐▌ ▐▌▐▌ ▐▌▐▌  █▐▌     █    █  ▐▛▀▀▘    
  ****     *********     ▐▌ ▐▌▐▙▄▄▖▝▚▄▞▘▝▚▄▞▘▐▙▄▄▀▐▙▄▄▖▗▄█▄▖  █  ▐▙▄▄▖    
    ****     *****                                                        
      ****     *            🚀 running in %.2fs                           
       ****                                                               
         **                                                               
                                                                          
`, readyIn.Seconds())
}

func PrintBuildInfo() {
	fmt.Printf(`
📦 built at %s
  `, BuiltAt)
}

type Metadata struct {
	Name             string
	Message          string
	StartedRunningIn time.Time
}

func PrintMetadataBanner(meta Metadata) {
	// NOTE: Kloudlite Logo converted into ASCII art [via](https://www.asciiart.eu/image-to-ascii)
	// NOTE: Kloudlite Text [from](https://patorjk.com/software/taag/#p=display&h=1&v=1&f=RubiFont&t=kloudlite%0A)

	builtAt := BuiltAt
	if BuiltAt == "" {
		builtAt = time.Now().Format("2006-01-02 15:04:05")
	}

	fmt.Printf(`
         **                                                            
       ****              ▗▖ ▗▖▗▖    ▗▄▖ ▗▖ ▗▖▗▄▄▄ ▗▖   ▗▄▄▄▖▗▄▄▄▖▗▄▄▄▖ 
      ****     *         ▐▌▗▞▘▐▌   ▐▌ ▐▌▐▌ ▐▌▐▌  █▐▌     █    █  ▐▌   
    ****     *****       ▐▛▚▖ ▐▌   ▐▌ ▐▌▐▌ ▐▌▐▌  █▐▌     █    █  ▐▛▀▀▘
  ****     *********     ▐▌ ▐▌▐▙▄▄▖▝▚▄▞▘▝▚▄▞▘▐▙▄▄▀▐▙▄▄▖▗▄█▄▖  █  ▐▙▄▄▖
 ****     ************                                                
  ****     *********      📦 %s                                       
    ****     *****        ⚒️ %s                                       
      ****     *          🗩  %s                                       
       ****              
         **              
                                                                          
`, meta.Name, builtAt, meta.Message)
}
