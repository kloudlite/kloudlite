apiVersion: {{.Spec.ApiVersion}}
kind: {{.Spec.Kind}}
metadata:
  name: {{.Name}}
  namespace: {{.Namespace}}
{{- if .Labels }}
  labels:
  {{- range $k,$v := .Labels}}
    {{$k}}: {{$v}}
  {{- end}}
    mres.kloudlite.io/ref: {{.Name}}
  {{- end }}
  ownerReferences:
    - apiVersion: {{.APIVersion}}
      kind: {{.Kind}}
      name: {{.Name}}
      uid: {{.UID}}
      controller: true
      blockOwnerDeletion: true
spec:
  managedSvcName: {{.Spec.ManagedSvcName}}
  inputs: {{.Spec.Inputs | toJson }}
