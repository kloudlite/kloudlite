{{- $ownerRefs := get . "owner-refs" }}
{{- $labels := get . "labels"}}
{{- $obj := get . "obj" }}
{{- with $obj}}
{{- /*gotype:  operators.kloudlite.io/apis/crds/v1.ManagedService */ -}}
apiVersion: {{.Spec.MsvcRef.APIVersion}}
kind: {{.Spec.MsvcRef.Kind}}
metadata:
  name: {{.Name}}
  namespace: {{.Namespace}}
  labels:
    {{- if .Labels }}
    {{ .Labels | toYAML | indent 4 }}
    {{- end }}
    {{- if $labels}}
    {{ $labels | toYAML | indent 4}}
    {{- end}}
  ownerReferences: {{ $ownerRefs | toYAML | nindent 4}}
spec:
  cloudProvider: {{.Spec.CloudProvider}}
  nodeSelector: {{- .Spec.NodeSelector | toYAML |nindent 4 }}
  {{ .Spec.Inputs | toYAML | nindent 2 }}
{{- end}}
