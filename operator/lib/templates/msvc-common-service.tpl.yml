{{- $ownerRefs := get . "owner-refs" }}
{{- $labels := get . "labels"}}
{{- $obj := get . "obj" }}
{{- with $obj}}
{{- /*gotype:  operators.kloudlite.io/apis/crds/v1.ManagedService */ -}}
apiVersion: {{.Spec.ApiVersion}}
kind: Service
metadata:
  name: {{.Name}}
  namespace: {{.Namespace}}
  labels:
    {{- if .Labels }}
    {{ .Labels | toYAML | indent 4 }}
    {{- end }}
    {{- if $labels}}
    {{ $labels | toYAML | indent 4}}
    {{- end}}
  ownerReferences: {{ $ownerRefs | toYAML | nindent 4}}
spec:
  inputs: {{.Spec.Inputs | toYAML |  nindent 4}}
{{- end}}
