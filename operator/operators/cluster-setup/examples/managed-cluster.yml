#apiVersion: v1
#kind: Namespace
#metadata:
#  name: kloudlite
#
#---
#apiVersion: v1
#kind: Namespace
#metadata:
#  name: kl-init-operators
#
#---
#
##apiVersion: v1
##kind: Secret
##metadata:
##  name: kl-docker-creds
##  namespace: kl-init-operators
##stringData:
#---
#
#apiVersion: v1
#kind: ServiceAccount
#metadata:
#  name: kloudlite-cluster-svc-account
#  namespace: kl-init-operators
#imagePullSecrets:
#  - name: kl-docker-creds
#
#---
#apiVersion: rbac.authorization.k8s.io/v1
#kind: ClusterRoleBinding
#metadata:
#  name: kloudlite-cluster-svc-account-rb
#  namespace: kl-init-operators
#subjects:
#  - kind: ServiceAccount
#    name: kloudlite-cluster-svc-account
#    namespace: kl-init-operators
#roleRef:
#  apiGroup: rbac.authorization.k8s.io
#  kind: "ClusterRole"
#  name: cluster-admin

---
apiVersion: v1
kind: Secret
metadata:
  name: kloudlite-creds
  namespace: kl-core
stringData:
  dnsApiEndpoint: "https://dns-api.kloudlite.io"
  dnsApiUsername: dns-api
  dnsApiPassword: '344uCRuC-ZiDKpkxq6NnjIQrTV85bLsoLeYt0SCybxWb1HWy'

---

apiVersion: cluster-setup.kloudlite.io/v1
kind: ManagedCluster
metadata:
  name: managed-cluster
spec:
  kloudliteCreds:
    name: kloudlite-creds
    namespace: kl-core
  loki:
    s3:
      awsAccessKeyId: ***REMOVED***
      awsSecretAccessKey: ***REMOVED***
      bucketName: first-one
      endpoint: s3.ap-northeast-1.wasabisys.com
    resources:
      cpu:
        min: 100m
        max: 200m
      memory: 200Mi

  prometheus:
    resources:
      cpu:
        min: 1200m
        max: 1800m
      memory: 2000Mi
      storage:
        size: 2Gi
        storageClass: local-path
