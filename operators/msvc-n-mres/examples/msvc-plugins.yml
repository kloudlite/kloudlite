apiVersion: crds.kloudlite.io/v1
kind: ManagedServicePlugin
metadata:
  name: plugin-mongodb
spec:
  apiVersion: "plugin-mongodb.kloudlite.github.com/v1"
  kinds:
    - kind: "StandaloneService"
      inputs:
        - input: "nodeSelector"
          label: "Node Selector"
          description: "Node Selector"
          type: "nodeSelector"
          required: false

        - input: "tolerations"
          label: "Tolerations"
          description: "Tolerations"
          type: array
          required: false

        - input: "resources.cpu"
          label: "CPU"
          description: "Allocates specified CPU resources"
          type: float-range
          required: false

        - input: "resources.memory"
          label: "Memory"
          description: "Allocates specified CPU resources"
          type: float-range
          required: false

        - input: "resources.storage"
          label: "Storage"
          description: "Allocates specified CPU resources"
          type: float-range
          required: false

      outputs:
        keys:
          - key: "URI"
            label: "mongodb URI"
            description: "connection URI for mongo"

          - key: "ADDR"
            label: "mongo host:port"
            description: "mongo ADDR host:port"

          - key: "ROOT_USERNAME"
            label: "root username"
            description: "mongodb root user name"

          - key: "ROOT_PASSWORD"
            label: "root password"
            description: "mongodb root user password"
