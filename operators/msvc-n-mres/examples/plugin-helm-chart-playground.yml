apiVersion: v1
kind: Namespace
metadata:
  name: testing-plugin-helm-chart
---

apiVersion: crds.kloudlite.io/v1
kind: ManagedService
metadata:
  name: testing-helm-chart-sample
  namespace: testing-plugin-helm-chart
spec:
  plugin:
    apiVersion: "plugin-helm-chart.kloudlite.github.com/v1"
    kind: HelmChart
    spec:
      nodeSelector: {}
      tolerations: []
      resources:
        cpu:
          min: 400m
          max: 400m

        memory:
          min: 500Mi
          max: 500Mi

        storage:
          size: 10Gi
          storageClass: ""

      # chart:
      #   url: "https://helm.github.io/examples"
      #   name: "hello-world"
      #   version: "0.1.0"

      chart:
        url: "https://nxtcoder17.github.io/helm-charts"
        name: playground
        version: v1.0.0

      helmValues: {}

    export:
      kv:
        k1: v1
        k2: v2
        k3: "this should come from a secret {secret/testing-helm-chart-sample-secret/key1}"

output:
  credentialsRef:
    name: "testing-mongo"
